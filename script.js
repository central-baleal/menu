// Translation data
const translations = {
    pt: {
        // Navigation
        "nav.cafetaria": "Cafetaria",
        "nav.drinks": "Bebidas",
        "nav.food": "Comida",
        "nav.snacks": "Petiscos",
        
        // Section headers
        "section.cafetaria": "Cafetaria",
        "section.drinks": "Bebidas & Vinhos",
        "section.food": "Comida",
        "section.snacks": "Petiscos & Especialidades",
        
        // Categories
        "category.coffee": "Café · Espresso",
        "category.appetizers": "Aperitivos e Digestivos",
        "category.wines": "Vinhos",
        "category.soft_drinks": "Refrigerantes",
        "category.beer": "Cervejas",
        "category.toasts": "Tostas",
        "category.salads": "Saladas",
        "category.bowls": "Bowls & Pancakes",
        "category.sides": "Acompanhamentos",
        "category.seafood": "Petiscos",
        "category.specialties": "Especialidades",
        
        // Coffee items
        "item.espresso": "Café · Espresso",
        "item.decaf": "Descafeinado",
        "item.coffee_milk_small": "Meia de Leite - Pequena",
        "item.coffee_milk_large": "Meia de Leite - Grande",
        "item.ucal": "Ucal",
        "item.american": "Abatanado",
        "item.hot_chocolate": "Chocolate Quente",
        "item.house_tea": "Chá da Casa",
        "item.tea": "Chá",
        
        // Wine items
        "item.wine_glass": "Copo de Vinho",
        "item.white_wine": "Garrafa Vinho Branco",
        "item.green_wine": "Garrafa Vinho Verde",
        "item.rose_wine": "Garrafa Vinho Rosé",
        
        // Soft drinks
        "item.can_juice": "Sumo de Lata",
        "item.orange_juice": "Sumo Natural Laranja",
        "item.water_small": "Água 0.5L",
        "item.water_large": "Água 1.5L",
        "item.sparkling_water": "Água com Gás",
        
        // Beer
        "item.beer_mini": "Cerveja Mini 0.20L",
        "item.beer_medium": "Cerveja Media 0.33L",
        "item.beer_no_alcohol": "Cerveja Sem Álcool",
        "item.draft_small": "Imperial 0.20L",
        "item.draft_large": "Caneca 0.50L",
        
        // Food items
        "item.toast": "Torrada",
        "item.cheese_bacon_toast": "Tosta de Queijo & Bacon",
        "item.mixed_toast": "Tosta Mista",
        "item.tuna_toast": "Tosta de Atum",
        "item.mozzarella_toast": "Tosta de Queijo Mozzarella e Tomate",
        "item.chicken_toast": "Tosta de Frango",
        
        "item.tuna_salad": "Salada de Atum",
        "item.chicken_salad": "Salada de Frango",
        "item.shrimp_salad": "Salada de Camarão",
        
        "item.cheeseburger": "Queijo",
        "item.chicken_burger": "Hambúrguer de Frango",
        "item.vegetarian": "Vegetariano",
        
        "item.yogurt_bowl": "Bowl de Iogurte Natural",
        "item.acai_bowl": "Bowl de Açaí",
        "item.pancakes": "Panquecas",
        
        "item.fries": "Batata Frita",
        
        // Snacks
        "item.fried_shrimp": "Camarão Frito",
        "item.octopus_salad": "Salada de Polvo",
        "item.clams": "Amêijoas",
        "item.snails": "Caracóis",
        
        // Specialties
        "item.bifana": "Bifana no Pão",
        "item.daily_soup": "Sopa do Dia",
        "item.ham_omelet": "Omelete Mista",
        "item.shrimp_omelet": "Omelete de Camarão",
        
        // Descriptions
        "desc.cheese_bacon": "Queijo e Bacon",
        "desc.mixed": "Queijo e Fiambre",
        "desc.tuna_toast": "Atum c/ Maionese, Queijo, Tomate e Ovo",
        "desc.mozzarella": "Queijo Mozzarella, Pesto e Tomate",
        "desc.chicken_toast": "Frango c/ Maionese, Queijo, Tomate, Pimento e Ovo",
        
        "desc.tuna_salad": "Alface, Tomate, Cebola Roxa, Atum Natural, Pimento, Pepino, Ovo e Molho Especial",
        "desc.chicken_salad": "Alface, Tomate, Cebola Roxa, Frango Desfiado, Pimento, Pepino, Ovo e Molho Especial",
        "desc.shrimp_salad": "Alface, Tomate, Cebola Roxa, Maçã, Ananás, Pimento, Ovo e Molho Especial",
        
        "desc.cheeseburger": "Alface, Tomate e Queijo",
        "desc.central": "Alface, Tomate, Queijo, Picles, Cebola Caramelizada e Bacon",
        "desc.smash": "Cebola, Queijo, Molho Barbecue e Picles",
        "desc.chicken_burger": "Carne de Frango, Alface, Tomate, Queijo, Molho Especial",
        "desc.vegetarian": "Alface, Tomate, Picles, Lentilhas e Cenouras",
        
        "desc.yogurt": "Iogurte Natural, Banana, Morango, Kiwi, Granola e Mel",
        "desc.acai": "Banana, Morango, Kiwi e Granola",
        "desc.pancakes": "Com Banana/Morango/Kiwi · Topping Chocolate/Caramelo/Mel",
        
        // Notes
        "note.toasts": "Todas as tostas levam orégãos e manteiga",
        "note.burgers": "Hamburguers acompanhados de batata frita. Extras: 1,00 € Bacon / Ovo",
        "note.gins": "Adiciona Red Bull por 1€",
        "time.restriction": "Indisponível das 12H às 15H",
        
        // Footer
        "footer.vat": "Preços com I.V.A. incluído a taxa legal em vigor",
        "footer.notice": "Nenhum prato, produto alimentar ou bebida, incluindo o couvert, pode ser cobrado se não for solicitado pelo cliente ou por este for inutilizado"
    },
    en: {
        // Navigation
        "nav.cafetaria": "Cafeteria",
        "nav.drinks": "Drinks",
        "nav.food": "Food",
        "nav.snacks": "Snacks",
        
        // Section headers
        "section.cafetaria": "Cafeteria",
        "section.drinks": "Drinks & Wines",
        "section.food": "Food",
        "section.snacks": "Snacks & Specialties",
        
        // Categories
        "category.coffee": "Coffee · Espresso",
        "category.appetizers": "Appetizers and Digestives",
        "category.wines": "Wines",
        "category.soft_drinks": "Soft Drinks",
        "category.beer": "Beer",
        "category.toasts": "Toasts",
        "category.salads": "Salads",
        "category.bowls": "Bowls & Pancakes",
        "category.sides": "Sides",
        "category.seafood": "Snacks",
        "category.specialties": "Specialties",
        
        // Coffee items
        "item.espresso": "Espresso",
        "item.decaf": "Decaffeinated",
        "item.coffee_milk_small": "Coffee with Milk - Small",
        "item.coffee_milk_large": "Coffee with Milk - Large",
        "item.ucal": "Milk with Chocolate",
        "item.american": "American Coffee",
        "item.hot_chocolate": "Hot Chocolate",
        "item.house_tea": "House Tea",
        "item.tea": "Tea",
        
        // Wine items
        "item.wine_glass": "Glass of Wine",
        "item.white_wine": "White Wine Bottle",
        "item.green_wine": "Green Wine Bottle",
        "item.rose_wine": "Rosé Wine Bottle",
        
        // Soft drinks
        "item.can_juice": "Can Juice",
        "item.orange_juice": "Natural Orange Juice",
        "item.water_small": "Water 0.5L",
        "item.water_large": "Water 1.5L",
        "item.sparkling_water": "Sparkling Water",
        
        // Beer
        "item.beer_mini": "Beer Bottle 0.20L",
        "item.beer_medium": "Beer Bottle 0.33L",
        "item.beer_no_alcohol": "Non-alcoholic Beer",
        "item.draft_small": "Draft Beer 0.20L",
        "item.draft_large": "Draft Beer 0.50L",
        
        // Food items
        "item.toast": "Toast",
        "item.cheese_bacon_toast": "Cheese & Bacon Toast",
        "item.mixed_toast": "Mixed Toast",
        "item.tuna_toast": "Tuna Toast",
        "item.mozzarella_toast": "Mozzarella Cheese and Tomato Toast",
        "item.chicken_toast": "Chicken Toast",
        
        "item.tuna_salad": "Tuna Salad",
        "item.chicken_salad": "Chicken Salad",
        "item.shrimp_salad": "Shrimp Salad",
        
        "item.cheeseburger": "Cheeseburger",
        "item.chicken_burger": "Chicken Burger",
        "item.vegetarian": "Vegetarian",
        
        "item.yogurt_bowl": "Natural Yogurt Bowl",
        "item.acai_bowl": "Açaí Bowl",
        "item.pancakes": "Pancakes",
        
        "item.fries": "French Fries",
        
        // Snacks
        "item.fried_shrimp": "Fried Shrimp",
        "item.octopus_salad": "Octopus Salad",
        "item.clams": "Clams",
        "item.snails": "Snails",
        
        // Specialties
        "item.bifana": "Pork Steak in Bread",
        "item.daily_soup": "Daily Soup",
        "item.ham_omelet": "Ham and Cheese Omelet",
        "item.shrimp_omelet": "Shrimp Omelet",
        
        // Descriptions
        "desc.cheese_bacon": "Cheese and Bacon",
        "desc.mixed": "Cheese and Ham",
        "desc.tuna_toast": "Tuna with Mayo, Cheese, Tomato and Boiled Egg",
        "desc.mozzarella": "Mozzarella Cheese, Pesto and Tomato",
        "desc.chicken_toast": "Chicken with Mayo, Cheese, Tomato, Capsicum and Boiled Egg",
        
        "desc.tuna_salad": "Lettuce, Tomato, Red Onion, Natural Tuna, Capsicum, Cucumber, Egg, Special Sauce",
        "desc.chicken_salad": "Lettuce, Tomato, Red Onion, Shredded Chicken, Capsicum, Cucumber, Egg, Special Sauce",
        "desc.shrimp_salad": "Lettuce, Tomato, Red Onion, Apple, Pineapple, Capsicum, Egg, Special Sauce",
        
        "desc.cheeseburger": "Lettuce, Tomato and Cheese",
        "desc.central": "Lettuce, Tomato, Cheese, Pickles, Caramelized Onion and Bacon",
        "desc.smash": "Onion, Cheese, BBQ Sauce and Pickles",
        "desc.chicken_burger": "Chicken Patty, Lettuce, Tomato, Cheese, Special Sauce",
        "desc.vegetarian": "Lettuce, Tomato, Pickles, Lentils and Carrots",
        
        "desc.yogurt": "Natural Yogurt, Banana, Strawberry, Kiwi, Granola and Honey",
        "desc.acai": "Banana, Strawberry, Kiwi and Granola",
        "desc.pancakes": "With Banana/Strawberry/Kiwi · Chocolate/Caramel/Honey Topping",
        
        // Notes
        "note.toasts": "All toasts have oregano and butter",
        "note.burgers": "All burgers served with fries. Extras: 1,00 € Bacon / Egg",
        "note.gins": "Add Red Bull for 1€",
        "time.restriction": "Not Available from 12H to 15H",
        
        // Footer
        "footer.vat": "Prices include VAT at the legal rate",
        "footer.notice": "No dish, food product or drink, including cover charge, can be charged if not requested by the customer or if unused"
    }
};

// Current language
let currentLang = 'pt';

// Language switcher function
function switchLanguage(lang) {
    currentLang = lang;
    
    // Update active button
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.classList.toggle('active', btn.dataset.lang === lang);
    });
    
    // Update HTML lang attribute
    document.documentElement.lang = lang;
    
    // Update all translatable elements
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.dataset.i18n;
        if (translations[lang][key]) {
            element.textContent = translations[lang][key];
        }
    });
}

// Initialize on page load
document.addEventListener('DOMContentLoaded', () => {
    // Set up language switcher buttons
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.addEventListener('click', () => {
            switchLanguage(btn.dataset.lang);
        });
    });
    
    // Smooth scroll for navigation links
    document.querySelectorAll('.nav-item').forEach(link => {
        link.addEventListener('click', (e) => {
            e.preventDefault();
            const targetId = link.getAttribute('href');
            const targetSection = document.querySelector(targetId);
            if (targetSection) {
                // Calculate the total offset needed
                const headerHeight = document.querySelector('header').offsetHeight;
                const navHeight = document.querySelector('.menu-nav').offsetHeight;
                const totalOffset = headerHeight + navHeight + 20; // 20px extra padding
                
                const targetPosition = targetSection.offsetTop - totalOffset;
                window.scrollTo({
                    top: targetPosition,
                    behavior: 'smooth'
                });
            }
        });
    });
    
    // Initialize with Portuguese
    switchLanguage('pt');
});

// Highlight active section in navigation
window.addEventListener('scroll', () => {
    const sections = document.querySelectorAll('.menu-section');
    const navItems = document.querySelectorAll('.nav-item');
    
    let current = '';
    const scrollPosition = window.scrollY + 200; // Offset for better detection
    
    sections.forEach(section => {
        const sectionTop = section.offsetTop;
        const sectionHeight = section.clientHeight;
        if (scrollPosition >= sectionTop) {
            current = section.getAttribute('id');
        }
    });
    
    navItems.forEach(item => {
        item.style.background = '';
        item.style.color = '';
        if (item.getAttribute('href') === `#${current}`) {
            item.style.background = '#e8f5e9';
            item.style.color = '#2d5016';
        }
    });
});
